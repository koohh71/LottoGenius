<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
    body { font-family: 'Malgun Gothic', sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: 0 auto; padding: 20px; }
    h1 { color: #2c3e50; border-bottom: 3px solid #3498db; padding-bottom: 15px; margin-bottom: 30px; }
    h2 { color: #2980b9; border-left: 5px solid #2980b9; padding-left: 12px; margin-top: 40px; background-color: #f4f6f7; padding: 10px; }
    h3 { color: #16a085; margin-top: 25px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
    table { width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.95em; }
    th, td { border: 1px solid #bdc3c7; padding: 12px; text-align: left; }
    th { background-color: #ecf0f1; font-weight: bold; color: #2c3e50; }
    code { background-color: #f8f9fa; padding: 3px 6px; border-radius: 4px; font-family: Consolas, monospace; color: #e74c3c; border: 1px solid #e1e1e8; }
    .structure { background-color: #2c3e50; color: #ecf0f1; padding: 20px; border-radius: 8px; font-family: Consolas, monospace; white-space: pre; overflow-x: auto; font-size: 0.9em; line-height: 1.4; }
    .badge { display: inline-block; padding: 3px 8px; border-radius: 12px; font-size: 0.8em; font-weight: bold; color: white; margin-right: 5px; }
    .hot { background-color: #e74c3c; }
    .cold { background-color: #3498db; }
    .new { background-color: #27ae60; }
</style>
</head>
<body>
    <h1>Lotto Genius v2.1 - 최종 기술 사양서</h1>
    <p><strong>버전:</strong> 2.1 (Final) | <strong>최종 수정일:</strong> 2026-01-14</p>
    
    <h2>1. 개요 (Overview)</h2>
    <p>Lotto Genius는 SQLite 기반의 고성능 DB와 계층화된 백엔드 아키텍처를 바탕으로, 로또 당첨 데이터의 심층 분석과 하이브리드(수동+자동) 번호 생성을 제공하는 전문 웹 애플리케이션입니다.</p>

    <h2>2. 시스템 아키텍처 (Architecture)</h2>
    <h3>2.1 기술 스택</h3>
    <ul>
        <li><strong>Frontend:</strong> React 18, Vite, Tailwind CSS, <strong>Recharts</strong></li>
        <li><strong>Backend:</strong> FastAPI, SQLAlchemy ORM, Pydantic v2</li>
        <li><strong>Database:</strong> SQLite (Local) / PostgreSQL (Production)</li>
        <li><strong>Hosting:</strong> Netlify (Frontend), Render (Backend)</li>
    </ul>

    <h3>2.2 데이터 모델링</h3>
    <p>모든 데이터는 <code>lotto_rounds</code> 테이블에서 관리되며, 엑셀 파일은 초기 설치 시 시딩(Seeding)용으로 활용됩니다.</p>

    <h2>3. 핵심 기능 상세 (Key Features)</h2>
    
    <h3>3.1 <span class="badge hot">HOT</span> & <span class="badge cold">COLD</span> 통계 분석</h3>
    <ul>
        <li><strong>최다 당첨 (Top 10):</strong> 설정 기간 내 출현 빈도가 가장 높은 번호 시각화.</li>
        <li><strong>최소 당첨 (Bottom 10):</strong> 설정 기간 내 출현 빈도가 가장 낮은 번호 시각화 (신규 전략 지원). <span class="badge new">Update</span></li>
        <li><strong>구간 분포:</strong> 1-45번 사이의 대역별 출현 비율을 도넛 차트 및 지시선 레이블로 제공.</li>
    </ul>

    <h3>3.2 하이브리드 번호 생성</h3>
    <ul>
        <li>사용자가 원하는 <strong>고정수</strong>를 수동으로 선택하고, 나머지는 AI 가중치 알고리즘으로 자동 채움.</li>
        <li>제외수 설정을 통해 원하지 않는 번호를 조합에서 완전히 배제 가능.</li>
    </ul>

    <h3>3.3 통합 사용자 가이드</h3>
    <ul>
        <li>초보 사용자를 위한 단계별 활용 가이드 및 통계 데이터 해석법 내장.</li>
    </ul>

    <h2>4. 인터페이스 정의 (API v1)</h2>
    <table>
        <tr><th>Endpoint</th><th>Method</th><th>Description</th></tr>
        <tr><td><code>/api/latest-round</code></td><td>GET</td><td>최신 데이터 회차 정보 반환</td></tr>
        <tr><td><code>/api/generate</code></td><td>POST</td><td>가중치 및 필터 기반 번호 생성</td></tr>
        <tr><td><code>/api/stats</code></td><td>GET</td><td>상위/하위 빈도 및 구간 통계 데이터 반환</td></tr>
        <tr><td><code>/api/add-round</code></td><td>POST</td><td>새로운 회차 정보 수동/자동 업데이트</td></tr>
    </table>

    <h2>5. 배포 및 환경 설정</h2>
    <ul>
        <li><strong>Backend (Render):</strong> <code>DATABASE_URL</code> 환경변수를 통해 PostgreSQL 연결.</li>
        <li><strong>Frontend (Netlify):</strong> <code>VITE_API_URL</code>을 통해 백엔드 엔드포인트 동적 매핑.</li>
        <li><strong>CI/CD:</strong> GitHub 리포지토리 푸시 시 자동 빌드 및 배포 활성화.</li>
    </ul>

    <p style="margin-top: 50px; text-align: center; color: #7f8c8d; font-size: 0.85em;">© 2026 Lotto Genius Project Team. All Rights Reserved.</p>
</body>
</html>